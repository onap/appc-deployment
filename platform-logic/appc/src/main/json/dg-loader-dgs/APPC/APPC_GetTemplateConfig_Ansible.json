[{"id":"5803aa79.45b404","type":"method","name":"method GetTemplateConfig_Ansible","xml":"<method rpc='GetTemplateConfig_Ansible' mode='sync'>\n","comments":"","outputs":1,"x":588.7499847412109,"y":107.5,"z":"b2b332b8.ecb4c","wires":[["b3dc5912.de0548"]]},{"id":"35047526.e59a1a","type":"dgstart","name":"DGSTART","outputs":1,"x":127.0594711303711,"y":106.5714282989502,"z":"b2b332b8.ecb4c","wires":[["2ac38826.404d58"]]},{"id":"2ac38826.404d58","type":"service-logic","name":"APPC 4.0.0","module":"APPC","version":"4.0.0","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='4.0.0'>","outputs":1,"x":325.2023391723633,"y":104.14286041259766,"z":"b2b332b8.ecb4c","wires":[["5803aa79.45b404"]]},{"id":"7e21bb0c.03de44","type":"execute","name":"execute getTemplate","xml":"<execute plugin=\"org.onap.appc.data.services.node.ConfigResourceNode\" method=\"getTemplate\">\n<parameter name=\"fileCategory\" value=\"config_template\" />\n<parameter name=\"responsePrefix\" value=\"config-template\" />","comments":"","outputs":1,"x":419.70245361328125,"y":319.5358352661133,"z":"b2b332b8.ecb4c","wires":[["54cd3796.95a458","90f2178d.ba27c8"]]},{"id":"90f2178d.ba27c8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":694.059513092041,"y":361.0000648498535,"z":"b2b332b8.ecb4c","wires":[["5392ab8b.3b7874"]]},{"id":"5392ab8b.3b7874","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":885.7896118164062,"y":362.1429262161255,"z":"b2b332b8.ecb4c","wires":[["d978e419.70a338"]]},{"id":"d978e419.70a338","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n<parameter name=\"error-code\" value=\"401\"/>\n\t<parameter name=\"error-message\" value=\"`$config-template.error-message`\"/>\n\t\n\t\n\t","comments":"","x":1115.4563827514648,"y":364.9206962585449,"z":"b2b332b8.ecb4c","wires":[]},{"id":"54cd3796.95a458","type":"failure","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":700.583324432373,"y":283.6667594909668,"z":"b2b332b8.ecb4c","wires":[["e0937d2c.970ef"]]},{"id":"e0937d2c.970ef","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":884.916576385498,"y":288.0000877380371,"z":"b2b332b8.ecb4c","wires":[["9df2fa59.e3b388"]]},{"id":"b3dc5912.de0548","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":156.20235061645508,"y":342.5000410079956,"z":"b2b332b8.ecb4c","wires":[["7e21bb0c.03de44","941be79f.807ed8","7b6affbc.ca3f"]]},{"id":"ebd8afae.4253d","type":"not-found","name":"found","xml":"<outcome value='found'>\n","comments":"","outputs":1,"x":1145.6310234069824,"y":448.46429920196533,"z":"b2b332b8.ecb4c","wires":[["b022a59b.66efe8"]]},{"id":"8ced2749.1c0918","type":"other","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1149.7382049560547,"y":517.2143268585205,"z":"b2b332b8.ecb4c","wires":[["bb3ddb29.67e8a8"]]},{"id":"941be79f.807ed8","type":"call","name":"call  Generic_AnsibleDG","xml":"<call module='APPC' rpc='Generic_AnsibleDG' mode='sync' >\n","comments":"","outputs":1,"x":324.91674041748047,"y":606.8571729660034,"z":"b2b332b8.ecb4c","wires":[["f0ca9dc.a029d6","c14fa4fe.f59ef8"]]},{"id":"b022a59b.66efe8","type":"call","name":"call  MergeTemplateData","xml":"<call module='APPC' rpc='MergeTemplateData' mode='sync' >\n","comments":"","outputs":1,"x":1352.857192993164,"y":447.1428565979004,"z":"b2b332b8.ecb4c","wires":[[]]},{"id":"18d834e5.32eb1b","type":"execute","name":"execute getTemplate Parameter_definition","xml":"<execute plugin=\"org.onap.appc.data.services.node.ConfigResourceNode\" method=\"getTemplateByVnfTypeNAction\">\n<parameter name=\"fileCategory\" value=\"config_template\" />\n<parameter name=\"responsePrefix\" value=\"config-template\" />","comments":"","outputs":1,"x":878.5714721679688,"y":471.4286117553711,"z":"b2b332b8.ecb4c","wires":[["ebd8afae.4253d","8ced2749.1c0918"]]},{"id":"bb3ddb29.67e8a8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1361.4285202026367,"y":528.5714836120605,"z":"b2b332b8.ecb4c","wires":[[]]},{"id":"f0ca9dc.a029d6","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":562.8571891784668,"y":657.1429481506348,"z":"b2b332b8.ecb4c","wires":[["4d19c7fd.436708"]]},{"id":"4d19c7fd.436708","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name='device-running-config' value=\"`$tmp.deviceconfig.file-content`\" />\n<parameter name='output.status.code' value='`$output.status.code`' />\n<parameter name='output.status.message' value='`$output.status.message`'/>\n<parameter name='output.status.results' value = '`$output.status.results`'/>\n","comments":"","x":780.5716171264648,"y":663.5714693069458,"z":"b2b332b8.ecb4c","wires":[]},{"id":"c14fa4fe.f59ef8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":547.1428833007812,"y":558.5713958740234,"z":"b2b332b8.ecb4c","wires":[["55b4f534.292e5c"]]},{"id":"55b4f534.292e5c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='output.status.code' value='200' />\n<parameter name='output.status.message' value='`$output.status.message`'/>\n","comments":"","x":798.571403503418,"y":574.28564453125,"z":"b2b332b8.ecb4c","wires":[]},{"id":"9df2fa59.e3b388","type":"execute","name":"execute: getAnsibleRunningConfig","xml":"<execute plugin=\"org.onap.appc.data.services.node.ConfigResourceNode\" method=\"getConfigFilesByVnfActionNCategory\">\n<parameter name=\"fileCategory\" value=\"device_configuration\" />\n<parameter name='vnfname' value=\"`$config.vnf-name`\" />\n<parameter name='action' value=\"`$config.action`\" />\n<parameter name=\"responsePrefix\" value=\"tmp.deviceconfig\" />\n","comments":"","outputs":1,"x":1141.6666107177734,"y":200.00000953674316,"z":"b2b332b8.ecb4c","wires":[["44e9bc7b.8cfb94","15aafa2c.198166","5aacae79.29154"]]},{"id":"5aacae79.29154","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1287.6666412353516,"y":281.9999647140503,"z":"b2b332b8.ecb4c","wires":[["8117d87b.2808a8"]]},{"id":"8117d87b.2808a8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1450.6666412353516,"y":281.9999647140503,"z":"b2b332b8.ecb4c","wires":[["b514f44.0458208"]]},{"id":"15aafa2c.198166","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1435.6666412353516,"y":224.9999647140503,"z":"b2b332b8.ecb4c","wires":[[]]},{"id":"44e9bc7b.8cfb94","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1441.3333206176758,"y":162.6666498184204,"z":"b2b332b8.ecb4c","wires":[["5e2afb10.22e314"]]},{"id":"b514f44.0458208","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name='device-running-config' value=\"`$tmp.deviceconfig.file-content`\" />\n","comments":"","x":1653.6666412353516,"y":283.9999647140503,"z":"b2b332b8.ecb4c","wires":[]},{"id":"5e2afb10.22e314","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1617.3333206176758,"y":166.6666498184204,"z":"b2b332b8.ecb4c","wires":[["bd876721.641cc8"]]},{"id":"bd876721.641cc8","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n<parameter name=\"error-code\" value=\"\"/>\n<parameter name=\"dcae-error-message\" value=\"`$tmp.deviceconfig.error-message`\"/>\n\n","comments":"","x":1809.3333206176758,"y":159.6666498184204,"z":"b2b332b8.ecb4c","wires":[]},{"id":"7b6affbc.ca3f","type":"set","name":"set tmp.message","xml":"<set>\n<parameter name=\"tmp.message\" value=\"`$error-code + ':' + $error-message`\"/>\n","comments":"","x":308.75404357910156,"y":702.3611240386963,"z":"b2b332b8.ecb4c","wires":[]}]
