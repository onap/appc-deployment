[{"id":"af863c5e.90e748","type":"dgstart","name":"DGSTART","outputs":1,"x":146.75,"y":164.75,"z":"7aa4b695.11473","wires":[["d9df0190.a42ba"]]},{"id":"d9df0190.a42ba","type":"service-logic","name":"APPC 4.0.0","module":"APPC","version":"4.0.0","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='APPC' version='4.0.0'>","outputs":1,"x":304.09282302856445,"y":164.73572540283203,"z":"7aa4b695.11473","wires":[["7c89aa4e.932024"]]},{"id":"7c89aa4e.932024","type":"method","name":"method DGOrchestrator","xml":"<method rpc='DGOrchestrator' mode='sync'>\n","comments":"","outputs":1,"x":508.64046478271484,"y":154.23572540283203,"z":"7aa4b695.11473","wires":[["c70f8f3b.05d388"]]},{"id":"c70f8f3b.05d388","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":114.90634155273438,"y":287.93809700012207,"z":"7aa4b695.11473","wires":[["381e0ace.b3f33e","5f6fb0ca.2c254","c488bd07.108a38","75917e4e.17476"]]},{"id":"75917e4e.17476","type":"call","name":"call: setInputParams","xml":"<call module=\"APPC\" rpc=\"setInputParams\" mode=\"sync\">","comments":"","outputs":1,"x":649.6642913818359,"y":204.23572635650635,"z":"7aa4b695.11473","wires":[["36ff1ffa.c778a","26081ec1.29b53a","c2f54a3a.ddf05"]]},{"id":"1210a216.c8af96","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2142.4143924713135,"y":315.6523714065552,"z":"7aa4b695.11473","wires":[["9c3d67a5.92d02"]]},{"id":"b0e87141.6fe4f8","type":"execute","name":"execute get and executeFlowSequence","xml":"<execute plugin=\"org.openecomp.appc.flow.controller.node.FlowControlNode\" method=\"processFlow\">\n<parameter name=\"messageType\" value=\"response\" />\n<parameter name=\"message\" value=\"`$tmp.message`\" />\n<parameter name=\"responsePrefix\" value=\"tmp.flowControl\" />\n","comments":"","outputs":1,"x":1850.5411643981934,"y":327.96586418151855,"z":"7aa4b695.11473","wires":[["1210a216.c8af96","85baeb80.e02e8"]]},{"id":"9c3d67a5.92d02","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":2353.461868286133,"y":313.1761817932129,"z":"7aa4b695.11473","wires":[["4c31beff.349f7"]]},{"id":"88a7413.62118c","type":"set","name":"set error-code 400 and message","xml":"<set>\n<parameter name='error-code' value='400' />\n<parameter name='error-message' value=\"SUCCESS - request has been processed successfully\" />\n<parameter name='output-payload' value=\"`'state : ' + $output.payload.state` \" />\n","comments":"","x":2598.9379119873047,"y":394.735652923584,"z":"7aa4b695.11473","wires":[]},{"id":"85baeb80.e02e8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2148.2952003479004,"y":395.31900215148926,"z":"7aa4b695.11473","wires":[["91b3c0c8.bd7338"]]},{"id":"91b3c0c8.bd7338","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":2336.175952911377,"y":394.9737958908081,"z":"7aa4b695.11473","wires":[["88a7413.62118c"]]},{"id":"4c31beff.349f7","type":"set","name":"set error-code 401 and message","xml":"<set>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value=\"`$tmp.flowControl.status-message`\" />\n<parameter name='output-payload' value=\"\" />\n","comments":"","x":2603.7476806640625,"y":313.11661529541016,"z":"7aa4b695.11473","wires":[]},{"id":"5f6fb0ca.2c254","type":"execute","name":"execute saveTxLog","xml":"<execute plugin=\"org.openecomp.appc.data.services.node.ConfigResourceNode\" method=\"saveConfigTransactionLog\">\n<parameter name=\"messageType\" value=\"response\" />\n<parameter name=\"message\" value=\"`$tmp.message`\" />\n<parameter name=\"responsePrefix\" value=\"tmp.saveTxLog\" />\n","comments":"","outputs":1,"x":314.2475776672363,"y":1005.7912883758545,"z":"7aa4b695.11473","wires":[["9340c18b.3084e8"]]},{"id":"9340c18b.3084e8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":515.6919479370117,"y":1006.707914352417,"z":"7aa4b695.11473","wires":[["af758d58.5b9778"]]},{"id":"af758d58.5b9778","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":691.1643218994141,"y":1008.2912473678589,"z":"7aa4b695.11473","wires":[[]]},{"id":"381e0ace.b3f33e","type":"set","name":"set tmp.message","xml":"<set>\n<parameter name=\"tmp.message\" value=\"`$error-code + ':' + $error-message`\"/>\n","comments":"","x":333.0253677368164,"y":917.9857015609741,"z":"7aa4b695.11473","wires":[]},{"id":"36ff1ffa.c778a","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":865.164306640625,"y":163.40238761901855,"z":"7aa4b695.11473","wires":[["ca660a6a.37209"]]},{"id":"26081ec1.29b53a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":859.664306640625,"y":202.4023895263672,"z":"7aa4b695.11473","wires":[["ca660a6a.37209"]]},{"id":"ca660a6a.37209","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">\n\n","atomic":"true","comments":"","outputs":1,"x":1032.414306640625,"y":183.90241241455078,"z":"7aa4b695.11473","wires":[[]]},{"id":"c488bd07.108a38","type":"switchNode","name":"switch error-code","xml":"<switch test='`$error-code`'>\n","comments":"","outputs":1,"x":337.8309631347656,"y":859.6524333953857,"z":"7aa4b695.11473","wires":[["3d595d5f.577762","faa2fd8b.a0c5c"]]},{"id":"3d595d5f.577762","type":"success","name":"outcome: 400","xml":"<outcome value=\"400\">","comments":"","outputs":1,"x":602.4975891113281,"y":811.9857139587402,"z":"7aa4b695.11473","wires":[["185cf26e.a85396"]]},{"id":"faa2fd8b.a0c5c","type":"success","name":"outcome: Other","xml":"<outcome value=\"Other\">","comments":"","outputs":1,"x":602.414249420166,"y":911.985746383667,"z":"7aa4b695.11473","wires":[["d829d71e.06cbb8"]]},{"id":"185cf26e.a85396","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":813.7476348876953,"y":814.6524209976196,"z":"7aa4b695.11473","wires":[["766d8c6f.46c504"]]},{"id":"d829d71e.06cbb8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":795.7474899291992,"y":913.235746383667,"z":"7aa4b695.11473","wires":[["cb724d6.bb5e03"]]},{"id":"766d8c6f.46c504","type":"set","name":"set Status for dispatcher","xml":"<set>\n<parameter name='SvcLogic.status' value='success' />\n<parameter name='output.status.code' value='`$error-code`' />\n<parameter name='output.status.message' value='`$error-message`' />","comments":"","x":1063.4143371582031,"y":812.8190479278564,"z":"7aa4b695.11473","wires":[]},{"id":"cb724d6.bb5e03","type":"set","name":"set Status for dispatcher","xml":"<set>\n<parameter name='SvcLogic.status' value='failure' />\n<parameter name='output.status.code' value='`$error-code`' />\n<parameter name='output.status.message' value='`$error-message`' />\n","comments":"","x":1032.9142837524414,"y":912.1523923873901,"z":"7aa4b695.11473","wires":[]},{"id":"3df8ebcb.3db3a4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":525.9142684936523,"y":315.5690441131592,"z":"7aa4b695.11473","wires":[["db8589d5.f5783"]]},{"id":"c2f54a3a.ddf05","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":855.497615814209,"y":242.23571968078613,"z":"7aa4b695.11473","wires":[["3df8ebcb.3db3a4"]]},{"id":"98b12577.b4145","type":"execute","name":"execute getCapability","xml":"<execute plugin=\"org.openecomp.appc.data.services.node.ConfigResourceNode\" method=\"getCapability\">\n<parameter name=\"caplevel\" value=\"`$action-level`\" />\n<parameter name=\"checkCapability\" value=\"`$request-action`\" />\n<parameter name=\"vnf-type\" value=\"`$vnf-type`\" />\n\n","comments":"","outputs":1,"x":831.6644706726074,"y":463.6523542404175,"z":"7aa4b695.11473","wires":[["e327dfa0.71d49","a7e121d5.e56c78"]]},{"id":"79a2cd7a.1539c4","type":"switchNode","name":"switch capability-result","xml":"<switch test=\"`$capabilities`\">\n","comments":"","outputs":1,"x":1161.454574584961,"y":549.3952317237854,"z":"7aa4b695.11473","wires":[["2529f428.b003fc","69db5125.fc4bf","4ed07506.b71b1c"]]},{"id":"2529f428.b003fc","type":"success","name":"outcome: Not-Supported","xml":"<outcome value=\"Not-Supported\">","comments":"","outputs":1,"x":1400.6644439697266,"y":675.9856586456299,"z":"7aa4b695.11473","wires":[["b6a06ded.095718"]]},{"id":"69db5125.fc4bf","type":"success","name":"outcome: Supported","xml":"<outcome value=\"Supported\">","comments":"","outputs":1,"x":1391.5810241699219,"y":608.3190422058105,"z":"7aa4b695.11473","wires":[["b748bba.a3058c8"]]},{"id":"e327dfa0.71d49","type":"failure","name":"Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1132.7594909667969,"y":409.8428611755371,"z":"7aa4b695.11473","wires":[["54a3be90.486a98"]]},{"id":"a7e121d5.e56c78","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1117.2119979858398,"y":466.65238761901855,"z":"7aa4b695.11473","wires":[["670943f4.e09734"]]},{"id":"b6a06ded.095718","type":"set","name":"set error-code 450 and message","xml":"<set>\n<parameter name='error-code' value='450' />\n<parameter name='error-message' value=\"Request not supported\" />\n<parameter name='output-payload' value=\"\" />","comments":"","x":1690.997543334961,"y":677.6523866653442,"z":"7aa4b695.11473","wires":[]},{"id":"b748bba.a3058c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1612.9976196289062,"y":612.3190307617188,"z":"7aa4b695.11473","wires":[["b0e87141.6fe4f8"]]},{"id":"4ed07506.b71b1c","type":"other","name":"Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1338.3310661315918,"y":537.9857149124146,"z":"7aa4b695.11473","wires":[["b0e87141.6fe4f8"]]},{"id":"2930004b.59f6a","type":"set","name":"set error code 401","xml":"<set>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value=\"Cannot Determine Capabilities\" />\n<parameter name='output-payload' value=\"\" />\n","comments":"","x":1482.6641845703125,"y":398.2357177734375,"z":"7aa4b695.11473","wires":[]},{"id":"670943f4.e09734","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">\n\n","atomic":"true","comments":"","outputs":1,"x":962.0492706298828,"y":549.8094539642334,"z":"7aa4b695.11473","wires":[["79a2cd7a.1539c4"]]},{"id":"55f47d04.5f65bc","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"level\" value=\"info\"/>\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"` 'Capabilities results will be - '+$capabilities`\" />","comments":"","outputs":1,"x":1447.072998046875,"y":446.452392578125,"z":"7aa4b695.11473","wires":[[]]},{"id":"db8589d5.f5783","type":"switchNode","name":"switch action-level","xml":"<switch test='`$action-level`'>\n","comments":"","outputs":1,"x":717.1944808959961,"y":316.41671562194824,"z":"7aa4b695.11473","wires":[["c0e2c8b.089e238","9e5abf68.ff6c1"]]},{"id":"c0e2c8b.089e238","type":"success","name":"outcome: Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":614.6110458374023,"y":461.1666831970215,"z":"7aa4b695.11473","wires":[["98b12577.b4145"]]},{"id":"9e5abf68.ff6c1","type":"success","name":"outcome: vm","xml":"<outcome value='vm'>","comments":"","outputs":1,"x":912.9443511962891,"y":313.83336639404297,"z":"7aa4b695.11473","wires":[["6c0f9755.4e6f38"]]},{"id":"54a3be90.486a98","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">\n\n","atomic":"true","comments":"","outputs":1,"x":1285.99755859375,"y":408.90234375,"z":"7aa4b695.11473","wires":[["2930004b.59f6a","55f47d04.5f65bc"]]},{"id":"6c0f9755.4e6f38","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">\n\n","atomic":"true","comments":"","outputs":1,"x":1128.4166717529297,"y":314.74999809265137,"z":"7aa4b695.11473","wires":[["b0e87141.6fe4f8"]]}]
