[{"id":"c0f51dc8.101b5","type":"dgstart","name":"DGSTART","outputs":1,"x":121.88333129882812,"y":66.88333129882812,"z":"f4b8442.0fb85b8","wires":[["5b4f1a30.f05d0c"]]},{"id":"5b4f1a30.f05d0c","type":"service-logic","name":"Appc-API 4.0.0","module":"Appc-API","version":"4.0.0","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='Appc-API' version='4.0.0'>","outputs":1,"x":282.0500183105469,"y":68.54998779296875,"z":"f4b8442.0fb85b8","wires":[["772060.d25c87a"]]},{"id":"772060.d25c87a","type":"method","name":"method update-aai","xml":"<method rpc='update-aai' mode='sync'>\n","comments":"","outputs":1,"x":474.3833923339844,"y":70.2166519165039,"z":"f4b8442.0fb85b8","wires":[["467329f1.60b6d8"]]},{"id":"8f46f427.916b28","type":"get-resource","name":"get-resource: A&AI Data for VNF","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-name = $service-configuration-notification-input.service-information.service-instance-id\" pfx=\"tmp.aai-data-vnf\" >\n\n\n","comments":"","outputs":1,"x":407.8833312988281,"y":171.772216796875,"z":"f4b8442.0fb85b8","wires":[["44304e59.3bc55","2f765229.4761fe","6ecd659b.76cea4"]]},{"id":"3d2bf799.9f116","type":"get-resource","name":"get-resource: A&AI Data for VM Name","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vserver\" key=\"vserver.vserver-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name\" pfx=\"tmp.aai-data-vm\" >\n\n","comments":"","outputs":1,"x":1504.8833312988281,"y":465.772216796875,"z":"f4b8442.0fb85b8","wires":[["9b245605.84f748","27de335a.86c014","5e5954df.b3da24"]]},{"id":"22c57ca4.f5ae0c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":644.8833312988281,"y":414.7722473144531,"z":"f4b8442.0fb85b8","wires":[["13419e55.a341c2"]]},{"id":"24deeccb.be1d7c","type":"get-resource","name":"get-resource: A&AI Data for VM Name","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vserver\" key=\"vserver.vserver-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name\" pfx=\"tmp.aai-data-vm\" >\n\n\n","comments":"","outputs":1,"x":1395.8833312988281,"y":1069.7722473144531,"z":"f4b8442.0fb85b8","wires":[["4e85a946.01f12","6c8fb30.49c2b4c","143f5af6.ccb0d5"]]},{"id":"b14ec23a.f5b1c8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":646.8833312988281,"y":975.7722473144531,"z":"f4b8442.0fb85b8","wires":[["2200faf8.6ff19e"]]},{"id":"467329f1.60b6d8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":130.88333129882812,"y":129.772216796875,"z":"f4b8442.0fb85b8","wires":[["8f46f427.916b28","60b5221b.b51ed4","bf464434.9b9188","a0358bc1.4f2e98","78560055.675858"]]},{"id":"fc179dae.0a925","type":"save","name":"update: A&AI ( VNF)","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-id = $tmp.aai-data-vnf.vnf-id\" force=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n\t","comments":"","outputs":1,"x":980.8833312988281,"y":252.77224731445312,"z":"f4b8442.0fb85b8","wires":[["ade15db9.d9e358"]]},{"id":"ade15db9.d9e358","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1153.8833312988281,"y":254.77224731445312,"z":"f4b8442.0fb85b8","wires":[["57d1d045.81e0e8"]]},{"id":"29bfefae.5a7748","type":"save","name":"update: A&AI ( VM)","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vserver\" \nkey=\"vserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = 'att-aic' AND\ncloud-region.cloud-region-id = $tmp.aai-data-vm.cloud-region-id\"\nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n","comments":"","outputs":1,"x":1986.8833312988281,"y":541.772216796875,"z":"f4b8442.0fb85b8","wires":[["dfd718cc.1c6ab"]]},{"id":"dfd718cc.1c6ab","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2166.883331298828,"y":538.772216796875,"z":"f4b8442.0fb85b8","wires":[["4de83cd2.84ecac"]]},{"id":"a34e98d9.f45ed8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2017.8833312988281,"y":1128.7722473144531,"z":"f4b8442.0fb85b8","wires":[["4983c83b.88014"]]},{"id":"58ca3986.4a71d8","type":"save","name":"update: A&AI ( VM)","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vserver\" \nkey=\"vserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = $tmp.aai-data-vm.cloud-owner AND\ncloud-region.cloud-region-id = $tmp.aai-data-vm.cloud-region-id\"\nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>","comments":"","outputs":1,"x":1833.3833312988281,"y":1132.7722473144531,"z":"f4b8442.0fb85b8","wires":[["a34e98d9.f45ed8"]]},{"id":"28bcdf63.918a08","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":2163.883331298828,"y":362.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"9b245605.84f748","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1793.8833312988281,"y":386.772216796875,"z":"f4b8442.0fb85b8","wires":[["9b6cab7d.997098"]]},{"id":"27de335a.86c014","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1767.8833312988281,"y":461.772216796875,"z":"f4b8442.0fb85b8","wires":[["9b6cab7d.997098"]]},{"id":"9b6cab7d.997098","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1971.8833312988281,"y":424.772216796875,"z":"f4b8442.0fb85b8","wires":[["28bcdf63.918a08","5311e5a9.4fa464"]]},{"id":"a6d2ceb6.01d71","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":2006.8833312988281,"y":988.7722473144531,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"4e85a946.01f12","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1649.8833312988281,"y":993.7722473144531,"z":"f4b8442.0fb85b8","wires":[["178c51ad.e112ae"]]},{"id":"6c8fb30.49c2b4c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1651.8833312988281,"y":1063.7722473144531,"z":"f4b8442.0fb85b8","wires":[["178c51ad.e112ae"]]},{"id":"178c51ad.e112ae","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1834.8833312988281,"y":1006.7722473144531,"z":"f4b8442.0fb85b8","wires":[["a6d2ceb6.01d71","c946205b.f6ca3"]]},{"id":"6ecd659b.76cea4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":701.8833312988281,"y":80.772216796875,"z":"f4b8442.0fb85b8","wires":[["ff266133.3d2d18"]]},{"id":"44304e59.3bc55","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":645.8833312988281,"y":148.772216796875,"z":"f4b8442.0fb85b8","wires":[["f043b65d.df114"]]},{"id":"ff266133.3d2d18","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":863.8833312988281,"y":66.772216796875,"z":"f4b8442.0fb85b8","wires":[["f67029f1.15e53","9155ecda.9c9088"]]},{"id":"9155ecda.9c9088","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-configuration-notification-input.service-information.service-instance-id + '.' + $error-message`\"/>","comments":"","x":1151.8833312988281,"y":90.772216796875,"z":"f4b8442.0fb85b8","wires":[]},{"id":"f67029f1.15e53","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n\n","comments":"","outputs":1,"x":1066.8833312988281,"y":51.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"5311e5a9.4fa464","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name + '.' + $error-message`\"/>","comments":"","x":2222.883331298828,"y":422.772216796875,"z":"f4b8442.0fb85b8","wires":[]},{"id":"66e5357a.c3e564","type":"for","name":"for: vnf-config-parameters-list","xml":"<for index=\"i\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\">","comments":"","outputs":1,"x":414.8833312988281,"y":414.7722473144531,"z":"f4b8442.0fb85b8","wires":[["22c57ca4.f5ae0c"]]},{"id":"f013923f.8ff4c8","type":"for","name":"for: vnf-config-parameters-list","xml":"<for index=\"i\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\" >","comments":"","outputs":1,"x":416.8833312988281,"y":973.7722473144531,"z":"f4b8442.0fb85b8","wires":[["b14ec23a.f5b1c8"]]},{"id":"c7ca81f5.584878","type":"for","name":"for: vnf-config-parameters-list.system-controller","xml":"<for index=\"j\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller_length`\" >","comments":"","outputs":1,"x":911.8833312988281,"y":536.7722473144531,"z":"f4b8442.0fb85b8","wires":[["267d83bc.359cd4"]]},{"id":"f6bd5a4d.edb528","type":"for","name":"for: vnf-config-parameters-list.payload","xml":"<for index=\"j\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload_length`\" >","comments":"","outputs":1,"x":864.8833312988281,"y":1074.7722473144531,"z":"f4b8442.0fb85b8","wires":[["32cf2348.780e2c"]]},{"id":"267d83bc.359cd4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1216.8833312988281,"y":536.7722473144531,"z":"f4b8442.0fb85b8","wires":[["ca00e322.7a457","3d2bf799.9f116"]]},{"id":"ca00e322.7a457","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n<parameter name=\"VMNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name`\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.backup-information.service-instance-id`\"/>","comments":"","outputs":1,"x":1402.8833312988281,"y":416.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"6cf10415.3db5f4","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n<parameter name=\"VMNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":1325.8833312988281,"y":1011.7722473144531,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"32cf2348.780e2c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1133.8833312988281,"y":1079.7722473144531,"z":"f4b8442.0fb85b8","wires":[["6cf10415.3db5f4","24deeccb.be1d7c"]]},{"id":"dc845fa1.861eb","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"SYSCONTRVSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n\n<parameter name=\"SYSCONTRLTENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"SYSCONTRLCLOUDREGION\" value=\"`$tmp.aai-data-vm.cloud-region-id`\"/>\n<parameter name=\"SYSCONTRLCLOUDOWNER\" value=\"`$tmp.aai-data-vm.cloud-owner`\"/>","comments":"","outputs":1,"x":1980.8833312988281,"y":496.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"be3a649.92a8298","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"PAYLDVSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n\n<parameter name=\"PAYLDTENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"PAYLDCLOUDREGION\" value=\"`$tmp.aai-data-vm.cloud-region-id`\"/>","comments":"","outputs":1,"x":1809.8833312988281,"y":1073.7722473144531,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"60b5221b.b51ed4","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"CALLING Get fOR SERVICEINSTANCEID\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n","comments":"","outputs":1,"x":334.8833312988281,"y":126.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"2f765229.4761fe","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":644.8833312988281,"y":196.77224731445312,"z":"f4b8442.0fb85b8","wires":[["e003b6d1.c077e8"]]},{"id":"e003b6d1.c077e8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":792.8833312988281,"y":200.77224731445312,"z":"f4b8442.0fb85b8","wires":[["fc179dae.0a925","5bfbd468.92001c"]]},{"id":"5e5954df.b3da24","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1643.8833312988281,"y":518.7722778320312,"z":"f4b8442.0fb85b8","wires":[["2654c4ca.7ead04"]]},{"id":"143f5af6.ccb0d5","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1452.8833312988281,"y":1141.7722473144531,"z":"f4b8442.0fb85b8","wires":[["a50cc54f.09ab9"]]},{"id":"2654c4ca.7ead04","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1799.8833312988281,"y":515.7722778320312,"z":"f4b8442.0fb85b8","wires":[["dc845fa1.861eb","29bfefae.5a7748","8496bab.f61c148"]]},{"id":"a50cc54f.09ab9","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1621.8833312988281,"y":1134.7722473144531,"z":"f4b8442.0fb85b8","wires":[["be3a649.92a8298","58ca3986.4a71d8","ead40740.d1b23"]]},{"id":"5bfbd468.92001c","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFID\" value=\"`$tmp.aai-data-vnf.vnf-id`\"/>\n\n","comments":"","outputs":1,"x":957.8833312988281,"y":205.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"57d1d045.81e0e8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1306.8833312988281,"y":256.7722473144531,"z":"f4b8442.0fb85b8","wires":[["477e8b0f.ff62c4","c9598522.b5021"]]},{"id":"477e8b0f.ff62c4","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $tmp.aai-data-vnf.vnf-id + '.' + $error-message`\"/>","comments":"","x":1531.8833312988281,"y":272.7722473144531,"z":"f4b8442.0fb85b8","wires":[]},{"id":"4de83cd2.84ecac","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2321.883331298828,"y":534.772216796875,"z":"f4b8442.0fb85b8","wires":[["7c7c5c09.263cc4","8f9d540b.6eaf78"]]},{"id":"7c7c5c09.263cc4","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2579.883331298828,"y":526.772216796875,"z":"f4b8442.0fb85b8","wires":[]},{"id":"c946205b.f6ca3","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name + '.' + $error-message`\"/>","comments":"","x":2063.883331298828,"y":1040.7722473144531,"z":"f4b8442.0fb85b8","wires":[]},{"id":"4983c83b.88014","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2172.883331298828,"y":1128.7722473144531,"z":"f4b8442.0fb85b8","wires":[["2fd2a1ea.86ecc6","33e73c2c.e10484"]]},{"id":"2fd2a1ea.86ecc6","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2431.883331298828,"y":1134.7722473144531,"z":"f4b8442.0fb85b8","wires":[]},{"id":"c9598522.b5021","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$tmp.aai-data-vnf.vnf-id`\"/>\n\n","comments":"","outputs":1,"x":1455.8833312988281,"y":213.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"8f9d540b.6eaf78","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n\n","comments":"","outputs":1,"x":2521.883331298828,"y":461.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"33e73c2c.e10484","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2372.883331298828,"y":1079.7722473144531,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"bf464434.9b9188","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"RETURNED RESPONSEMESSAGE\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n<parameter name=\"ERRORMSG\" value=\"`$error-message`\"/>\n\n","comments":"","outputs":1,"x":184.88333129882812,"y":1151.7722473144531,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"a0358bc1.4f2e98","type":"set","name":"set: Append to response-message","xml":"<set>\n\t  <parameter name=\"response-message\" value=\"`$error-message + '.' + $response-message`\"/>","comments":"","x":323.8833312988281,"y":1079.7722473144531,"z":"f4b8442.0fb85b8","wires":[]},{"id":"8496bab.f61c148","type":"get-resource","name":"get-resource: A&AI Data for VNFC Name ","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vnfc\" key=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name\" pfx=\"tmp.aai-data-vnfc\" >\n\n\n","comments":"","outputs":1,"x":1325.8833312988281,"y":727.8833312988281,"z":"f4b8442.0fb85b8","wires":[["c81a3f16.23e79","8ac07d6d.14c18","41789484.81275c"]]},{"id":"c81a3f16.23e79","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1613.8833312988281,"y":727.8833312988281,"z":"f4b8442.0fb85b8","wires":[["b0afd80f.959b8"]]},{"id":"8ac07d6d.14c18","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1613.8833312988281,"y":771.8833312988281,"z":"f4b8442.0fb85b8","wires":[["7ee37ca7.a378d4"]]},{"id":"41789484.81275c","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1574.8833312988281,"y":843.8833312988281,"z":"f4b8442.0fb85b8","wires":[["2e5147af.8c502"]]},{"id":"7ee37ca7.a378d4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1785.8833312988281,"y":772.8833312988281,"z":"f4b8442.0fb85b8","wires":[["2310ad0.71ba6d4","2f6809a1.5e9c2e"]]},{"id":"2310ad0.71ba6d4","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":1958.8833312988281,"y":773.8833312988281,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"2f6809a1.5e9c2e","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2035.8833312988281,"y":825.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"85ceea54.89cff8","type":"save","name":"update: A&AI VNFC","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vnfc\" \nkey=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name and \nvserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = $tmp.aai-data-vm.cloud-owner AND\ncloud-region.region-id = $tmp.aai-data-vm.cloud-region-id \"  \nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n<parameter name=\"orchestration-status\" value=\"`$tmp.aai-orch-status`\"/>\n","comments":"","outputs":1,"x":1972.8833312988281,"y":884.8833312988281,"z":"f4b8442.0fb85b8","wires":[["a8b24e73.4ee988"]]},{"id":"a8b24e73.4ee988","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2157.883331298828,"y":882.8833312988281,"z":"f4b8442.0fb85b8","wires":[["c879f837.bac108"]]},{"id":"c879f837.bac108","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2316.883331298828,"y":881.8833312988281,"z":"f4b8442.0fb85b8","wires":[["556dfd9c.657114","b3f09d6d.b550b8"]]},{"id":"556dfd9c.657114","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2482.883331298828,"y":874.8833312988281,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"b3f09d6d.b550b8","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2550.883331298828,"y":949.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"2e5147af.8c502","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1741.8833312988281,"y":850.8833312988281,"z":"f4b8442.0fb85b8","wires":[["85ceea54.89cff8"]]},{"id":"b0afd80f.959b8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1777.8833312988281,"y":729.8833312988281,"z":"f4b8442.0fb85b8","wires":[["49a48a4e.19f34c"]]},{"id":"ead40740.d1b23","type":"get-resource","name":"get-resource: A&AI Data for VNFC Name ","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vnfc\" key=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name\" pfx=\"tmp.aai-data-vnfc\" >\n\n\n","comments":"","outputs":1,"x":1336.8833312988281,"y":1266.8833312988281,"z":"f4b8442.0fb85b8","wires":[["549cc3e0.c9dea4","5258b27.a79774c","6ccdd521.4c3d74"]]},{"id":"549cc3e0.c9dea4","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1659.8833312988281,"y":1210.8833312988281,"z":"f4b8442.0fb85b8","wires":[["4ac698fc.12ef8"]]},{"id":"4ac698fc.12ef8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1828.8833312988281,"y":1211.8833312988281,"z":"f4b8442.0fb85b8","wires":[["9cd69d90.4ab5e","ab0a4f4f.4f2b6","368e0e52.df43ea","823a01a9.fa859"]]},{"id":"5258b27.a79774c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1325.8833312988281,"y":1681.88330078125,"z":"f4b8442.0fb85b8","wires":[["37e6ac9f.881974"]]},{"id":"37e6ac9f.881974","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1493.3833312988281,"y":1672.38330078125,"z":"f4b8442.0fb85b8","wires":[["a5e4a430.a1dae8","ba1f3312.90a09"]]},{"id":"a5e4a430.a1dae8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":1683.8833312988281,"y":1647.1334228515625,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"ba1f3312.90a09","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":1747.8833312988281,"y":1709.6334228515625,"z":"f4b8442.0fb85b8","wires":[]},{"id":"6ccdd521.4c3d74","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1271.8833312988281,"y":1772.88330078125,"z":"f4b8442.0fb85b8","wires":[["3f437625.64f4a2"]]},{"id":"3f437625.64f4a2","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1432.8833312988281,"y":1769.88330078125,"z":"f4b8442.0fb85b8","wires":[["c322e2ca.cc10c8"]]},{"id":"c322e2ca.cc10c8","type":"save","name":"update: A&AI  VNFC","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"vnfc\" \nkey=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name and \nvserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND \ncloud-region.region-id = $tmp.aai-data-vm.cloud-region-id \"  \nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n<parameter name=\"orchestration-status\" value=\"`$tmp.aai-orch-status`\"/>","comments":"","outputs":1,"x":1651.6333312988281,"y":1766.38330078125,"z":"f4b8442.0fb85b8","wires":[["f36135db.fdc948"]]},{"id":"f36135db.fdc948","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1842.8833312988281,"y":1758.88330078125,"z":"f4b8442.0fb85b8","wires":[["92615a3d.bc7a9"]]},{"id":"92615a3d.bc7a9","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2014.6333312988281,"y":1761.3834228515625,"z":"f4b8442.0fb85b8","wires":[["cb2d609f.88cab","94b652f5.e7a418"]]},{"id":"cb2d609f.88cab","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2225.883331298828,"y":1757.8834533691406,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"94b652f5.e7a418","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2279.883331298828,"y":1818.63330078125,"z":"f4b8442.0fb85b8","wires":[]},{"id":"37dca69b.66ac62","type":"save","name":"save Put VNFC","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vnfc' key='vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name' force='true' pfx='tmp.vnfc-payload'>\n<parameter name='nfc-naming-code' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-function-code`'/>\n<parameter name='nfc-function' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-type`'/>\n<parameter name='prov-status' value='`$tmp.aai-prov-status`'/>\n<parameter name='orchestration-status' value='`$tmp.aai-orch-status`'/>\n<parameter name='group-notation' value='`$tmp.group-notation`'/>\n<parameter name='in-maint' value = 'false'/>\n<parameter name='is-closed-loop' value = 'false'/>\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"vserver\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\"   value=\"vserver.vserver-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vm.vserver-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\"   value=\"tenant.tenant-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value='`$tmp.aai-data-vm.tenant-id`'/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\"   value=\"cloud-region.cloud-owner\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"att-aic\"/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-key\"   value=\"cloud-region.cloud-region-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-value\" value='`$tmp.aai-data-vm.cloud-region-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].related-to\" value=\"vf-module\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-key\"   value=\"vf-module.vf-module-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-value\" value='`$tmp.vf-module-id`'/>\n\n","comments":"","outputs":1,"x":1819.8833312988281,"y":1568.772216796875,"z":"f4b8442.0fb85b8","wires":[["15433db9.df194a"]]},{"id":"15433db9.df194a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2012.3833312988281,"y":1569.272216796875,"z":"f4b8442.0fb85b8","wires":[["b83ce7.4ec9b318"]]},{"id":"b83ce7.4ec9b318","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2178.633331298828,"y":1571.772216796875,"z":"f4b8442.0fb85b8","wires":[["c4e01cc9.cc4588","2f357b42.686584"]]},{"id":"c4e01cc9.cc4588","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Insert to AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2383.133331298828,"y":1543.272216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"2f357b42.686584","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Insert to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2447.133331298828,"y":1608.272216796875,"z":"f4b8442.0fb85b8","wires":[]},{"id":"847918b3.b0aa9","type":"save","name":"save Put VNFC","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='vnfc' key='vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name' force='true' pfx='tmp.vnfc-sys-controller'>\n<parameter name='nfc-naming-code' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-function-code`'/>\n<parameter name='nfc-function' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-type`'/>\n<parameter name='prov-status' value='`$tmp.aai-prov-status`'/>\n<parameter name='orchestration-status' value='`$tmp.aai-orch-status`'/>\n<parameter name='in-maint' value = 'false'/>\n<parameter name='is-closed-loop' value = 'false'/>\n<parameter name='ipaddress-v4-oam-vip' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].ipaddress-v4-oam-vip`'/>\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"vserver\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\"   value=\"vserver.vserver-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vm.vserver-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\"   value=\"tenant.tenant-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value='`$tmp.aai-data-vm.tenant-id`'/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\"   value=\"cloud-region.cloud-owner\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"att-aic\"/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-key\"   value=\"cloud-region.cloud-region-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-value\" value='`$tmp.aai-data-vm.cloud-region-id`'/>\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].related-to\" value=\"vf-module\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-key\"   value=\"vf-module.vf-module-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-value\" value='`$tmp.vf-module-id`'/>\n\n\n\n\n","comments":"","outputs":1,"x":2108.883331298828,"y":719.88330078125,"z":"f4b8442.0fb85b8","wires":[["b3c3c3d0.4d379"]]},{"id":"b3c3c3d0.4d379","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2279.883331298828,"y":722.88330078125,"z":"f4b8442.0fb85b8","wires":[["86981ca7.0f486"]]},{"id":"86981ca7.0f486","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2429.883331298828,"y":725.88330078125,"z":"f4b8442.0fb85b8","wires":[["fb7984a3.2a359","473192dd.1f183c"]]},{"id":"fb7984a3.2a359","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Insert to AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2636.883331298828,"y":716.88330078125,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"473192dd.1f183c","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Insert to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2607.883331298828,"y":776.88330078125,"z":"f4b8442.0fb85b8","wires":[]},{"id":"78560055.675858","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\">","comments":"","outputs":1,"x":427.8833312988281,"y":308.8833312988281,"z":"f4b8442.0fb85b8","wires":[["cdd9fcc9.e2fd58","8cd6d147.ae0218","34c2463.cf0b8ba"]]},{"id":"cdd9fcc9.e2fd58","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":700.8833312988281,"y":262.8833312988281,"z":"f4b8442.0fb85b8","wires":[["42a9f090.5576b"]]},{"id":"8cd6d147.ae0218","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":692.8833312988281,"y":305.8833312988281,"z":"f4b8442.0fb85b8","wires":[["42a9f090.5576b"]]},{"id":"42a9f090.5576b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":901.8833312988281,"y":323.8833312988281,"z":"f4b8442.0fb85b8","wires":[["fac19019.555ba","69639e79.b60028"]]},{"id":"13419e55.a341c2","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller_length`\">","comments":"","outputs":1,"x":892.8833312988281,"y":417.8833312988281,"z":"f4b8442.0fb85b8","wires":[["2b70f3b6.70ab34","1cfb5f7f.146ea9","4bbed44c.48958c"]]},{"id":"2b70f3b6.70ab34","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1177.8833312988281,"y":397.8833312988281,"z":"f4b8442.0fb85b8","wires":[["dfc67bfa.c70f28"]]},{"id":"1cfb5f7f.146ea9","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1175.8833312988281,"y":433.8833312988281,"z":"f4b8442.0fb85b8","wires":[["dfc67bfa.c70f28"]]},{"id":"dfc67bfa.c70f28","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1383.8833312988281,"y":341.8833312988281,"z":"f4b8442.0fb85b8","wires":[["38f7f12.d30130e","538b5769.d570d"]]},{"id":"38f7f12.d30130e","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"System Controller VM and VNFC data not in config tree\"/>\n\n\n","comments":"","outputs":1,"x":1548.8833312988281,"y":362.8833312988281,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"2200faf8.6ff19e","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload_length`\">","comments":"","outputs":1,"x":913.8833312988281,"y":931.8833312988281,"z":"f4b8442.0fb85b8","wires":[["578b3fc6.dfebe","ab715923.f11558","4ea5e5a.72a741c"]]},{"id":"578b3fc6.dfebe","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1186.8833312988281,"y":843.8833312988281,"z":"f4b8442.0fb85b8","wires":[["3426556e.ca5e6a"]]},{"id":"ab715923.f11558","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1175.8833312988281,"y":896.8833312988281,"z":"f4b8442.0fb85b8","wires":[["3426556e.ca5e6a"]]},{"id":"3426556e.ca5e6a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1370.8833312988281,"y":867.8833312988281,"z":"f4b8442.0fb85b8","wires":[["f79a2016.ec9188","a39acb97.4339d8"]]},{"id":"f79a2016.ec9188","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Payload VM and VNFC data not in config tree\"/>\n\n\n","comments":"","outputs":1,"x":1550.8833312988281,"y":940.8833312988281,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"fac19019.555ba","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"RETURNED RESPONSEMESSAGE\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n<parameter name=\"ERRORMSG\" value=\"`$error-message`\"/>\n<parameter name=\"field3\" value=\"VM and VNFC data not in config tree.Stop the flow\"/>\n\n","comments":"","outputs":1,"x":1085.8833312988281,"y":355.8833312988281,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"f043b65d.df114","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":811.8833312988281,"y":150.88333129882812,"z":"f4b8442.0fb85b8","wires":[["7133566.c86f728","e6574c9f.d7f28"]]},{"id":"7133566.c86f728","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n<parameter name=\"ErrorMessage\" value=\"`$tmp.aai-data-vnf.error-message`\"/>\n<parameter name=\"HTTP Code\" value=\"`$tmp.aai-data-vnf.error.http.response-code`\"/>","comments":"","outputs":1,"x":984.8833312988281,"y":128.88333129882812,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"e6574c9f.d7f28","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-configuration-notification-input.service-information.service-instance-id + '.' + $tmp.aai-data-vnf.error-message + '.HTTP Code:' + $tmp.aai-data-vnf.error.http.response-code + '.' + $error-message `\"/>\n","comments":"","x":1042.8833312988281,"y":166.88333129882812,"z":"f4b8442.0fb85b8","wires":[]},{"id":"69639e79.b60028","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1143.8833312988281,"y":310.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"538b5769.d570d","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'System Controller VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1616.8833312988281,"y":320.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"a39acb97.4339d8","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'Payload VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1618.8833312988281,"y":892.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"34c2463.cf0b8ba","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":685.8833312988281,"y":351.8833312988281,"z":"f4b8442.0fb85b8","wires":[["ae635f4d.64e9d8"]]},{"id":"ae635f4d.64e9d8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":164.88333129882812,"y":414.8833312988281,"z":"f4b8442.0fb85b8","wires":[["66e5357a.c3e564","f013923f.8ff4c8"]]},{"id":"4bbed44c.48958c","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1175.8833312988281,"y":476.8833312988281,"z":"f4b8442.0fb85b8","wires":[["753d2624.a03b78"]]},{"id":"753d2624.a03b78","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":637.8833312988281,"y":536.8833312988281,"z":"f4b8442.0fb85b8","wires":[["c7ca81f5.584878"]]},{"id":"4ea5e5a.72a741c","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1176.8833312988281,"y":948.8833312988281,"z":"f4b8442.0fb85b8","wires":[["9c636d62.83d92"]]},{"id":"9c636d62.83d92","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1080.8833312988281,"y":995.8833312988281,"z":"f4b8442.0fb85b8","wires":[["f6bd5a4d.edb528"]]},{"id":"ab0a4f4f.4f2b6","type":"switchNode","name":"Check Odd or Even VM Name","xml":"<switch test=\"`((( $tmp.vm_last_number / 2 ) * 2 ) == $tmp.vm_last_number )`\">\n","comments":"","outputs":1,"x":2131.1332092285156,"y":1283.3833312988281,"z":"f4b8442.0fb85b8","wires":[["43163cb2.20f664","62bb1ac8.becec4"]]},{"id":"9cd69d90.4ab5e","type":"set","name":"Set VM Name & Mated Pair","xml":"<set>\n<parameter name ='tmp.vm-name' value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n<parameter name ='tmp.vm-name-length' value=\"`length($service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name)`\"/>\n<parameter name='tmp.mated-pair-number' value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].mated-pair-number`\"/>\n\n\n","comments":"","x":2116.133087158203,"y":1179.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"96796fac.e80f8","type":"set","name":"Set Even Group Notation","xml":"<set>\n<parameter name='tmp.group-notation' value=\"`$tmp.odd-group-notation`\"/>\n","comments":"","x":2600.383331298828,"y":1306.8833312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"43163cb2.20f664","type":"outcomeFalse","name":"Odd Pair","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2393.133331298828,"y":1216.8833312988281,"z":"f4b8442.0fb85b8","wires":[["5da8532.413e72c"]]},{"id":"62bb1ac8.becec4","type":"other","name":"Even Pair","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2396.883331298828,"y":1306.8833312988281,"z":"f4b8442.0fb85b8","wires":[["96796fac.e80f8"]]},{"id":"5da8532.413e72c","type":"set","name":"Set Odd Group Notation","xml":"<set>\n<parameter name='tmp.odd-group-notation' value=\"`$tmp.mated-pair-number`\"/>\n<parameter name='tmp.group-notation' value=\"`$tmp.mated-pair-number`\"/>\n","comments":"","x":2586.883331298828,"y":1215.6333312988281,"z":"f4b8442.0fb85b8","wires":[]},{"id":"368e0e52.df43ea","type":"set","name":"Get VM Name last digit","xml":"<set>\n<parameter name='tmp.vm_last_number' value='`substr($tmp.vm-name, $tmp.vm-name-length - 1, $tmp.vm-name-length)`' />\n","comments":"","x":2100.5162658691406,"y":1232.5166320800781,"z":"f4b8442.0fb85b8","wires":[]},{"id":"49a48a4e.19f34c","type":"call","name":"call: GetVfModuleInfo","xml":"<call module=\"APPC\" rpc=\"GetVfModuleInfo\" mode=\"sync\">","comments":"","outputs":1,"x":1694.8833312988281,"y":633.772216796875,"z":"f4b8442.0fb85b8","wires":[["8bed42ae.eb616"]]},{"id":"8bed42ae.eb616","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1867.8833312988281,"y":634.772216796875,"z":"f4b8442.0fb85b8","wires":[["3a57ec9f.7eae7c"]]},{"id":"3a57ec9f.7eae7c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2021.8833312988281,"y":635.772216796875,"z":"f4b8442.0fb85b8","wires":[["7166bf9.bf9e3c"]]},{"id":"7166bf9.bf9e3c","type":"switchNode","name":"switch: tmp.vf-module-id","xml":"<switch test=\"`$tmp.vf-module-id`\">","comments":"","outputs":1,"x":2234.883331298828,"y":624.772216796875,"z":"f4b8442.0fb85b8","wires":[["7d0fbd67.81486c","39dae372.2d7164"]]},{"id":"7d0fbd67.81486c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2436.883331298828,"y":625.772216796875,"z":"f4b8442.0fb85b8","wires":[["78903187.23f99"]]},{"id":"78903187.23f99","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2589.883331298828,"y":624.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"39dae372.2d7164","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":2299.883331298828,"y":666.772216796875,"z":"f4b8442.0fb85b8","wires":[["847918b3.b0aa9"]]},{"id":"823a01a9.fa859","type":"call","name":"call: GetVfModuleInfo","xml":"<call module=\"APPC\" rpc=\"GetVfModuleInfo\" mode=\"sync\">","comments":"","outputs":1,"x":2034.8833312988281,"y":1374.772216796875,"z":"f4b8442.0fb85b8","wires":[["9376c1dd.d71158","b37aa195.39825"]]},{"id":"9376c1dd.d71158","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2236.883331298828,"y":1369.772216796875,"z":"f4b8442.0fb85b8","wires":[["db84adc3.3cb7b"]]},{"id":"db84adc3.3cb7b","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2394.883331298828,"y":1369.772216796875,"z":"f4b8442.0fb85b8","wires":[["1a92d485.722c43"]]},{"id":"1a92d485.722c43","type":"switchNode","name":"switch: tmp.vf-module-id","xml":"<switch test=\"`$tmp.vf-module-id`\">","comments":"","outputs":1,"x":2611.883331298828,"y":1372.772216796875,"z":"f4b8442.0fb85b8","wires":[["46fe9440.3d5704"]]},{"id":"1f39adc9.664c52","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2588.883331298828,"y":1432.772216796875,"z":"f4b8442.0fb85b8","wires":[[]]},{"id":"46fe9440.3d5704","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2421.883331298828,"y":1430.772216796875,"z":"f4b8442.0fb85b8","wires":[["1f39adc9.664c52"]]},{"id":"b37aa195.39825","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":2242.883331298828,"y":1461.772216796875,"z":"f4b8442.0fb85b8","wires":[["37dca69b.66ac62"]]}]
