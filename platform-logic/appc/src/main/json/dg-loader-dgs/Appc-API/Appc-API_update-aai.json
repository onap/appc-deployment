[{"id":"f584e162.49c158","type":"dgstart","name":"DGSTART","outputs":1,"x":146.88333129882812,"y":89.88333129882812,"z":"dadd0ec.02a1b7","wires":[["60b57c68.194f74"]]},{"id":"60b57c68.194f74","type":"service-logic","name":"Appc-API 4.0.0","module":"Appc-API","version":"4.0.0","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='Appc-API' version='4.0.0'>","outputs":1,"x":307.0500183105469,"y":91.54998779296875,"z":"dadd0ec.02a1b7","wires":[["3641d110.30da4e"]]},{"id":"3641d110.30da4e","type":"method","name":"method update-aai","xml":"<method rpc='update-aai' mode='sync'>\n","comments":"","outputs":1,"x":499.3833923339844,"y":93.2166519165039,"z":"dadd0ec.02a1b7","wires":[["b3a09b4d.f75bd8"]]},{"id":"288fce64.17083a","type":"get-resource","name":"get-resource: A&AI Data for VNF","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-name = $service-configuration-notification-input.service-information.service-instance-id\" pfx=\"tmp.aai-data-vnf\" >\n\n\n","comments":"","outputs":1,"x":432.8833312988281,"y":194.772216796875,"z":"dadd0ec.02a1b7","wires":[["cc3bc54e.9184b8","d3de5a90.3ddcf8","81c50c73.66e56"]]},{"id":"7a4607ab.20c7d8","type":"get-resource","name":"get-resource: A&AI Data for VM Name","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vserver\" key=\"vserver.vserver-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name\" pfx=\"tmp.aai-data-vm\" >\n\n","comments":"","outputs":1,"x":1529.8833312988281,"y":488.772216796875,"z":"dadd0ec.02a1b7","wires":[["ac80a5a9.b87a88","bbbda2e4.18a088","730690ac.6a2dd8"]]},{"id":"7d05439.245a33c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":669.8833312988281,"y":437.7722473144531,"z":"dadd0ec.02a1b7","wires":[["374baba4.2826c4"]]},{"id":"6987c348.7915ac","type":"get-resource","name":"get-resource: A&AI Data for VM Name","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.AAIService\" resource=\"vserver\" key=\"vserver.vserver-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name\" pfx=\"tmp.aai-data-vm\" >\n\n\n","comments":"","outputs":1,"x":1420.8833312988281,"y":1092.7722473144531,"z":"dadd0ec.02a1b7","wires":[["79054415.929364","3ca1a800.bd8a18","7c6d32ee.aaa864"]]},{"id":"45ea0a21.ea708c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":671.8833312988281,"y":998.7722473144531,"z":"dadd0ec.02a1b7","wires":[["61e15e5d.3c6e6"]]},{"id":"b3a09b4d.f75bd8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":155.88333129882812,"y":152.772216796875,"z":"dadd0ec.02a1b7","wires":[["288fce64.17083a","a5df8a6a.2b19c8","d1fff83e.f87ea8","b52fc28c.1d4a4","5d1fa6e4.9044d"]]},{"id":"fe99cd15.356a28","type":"save","name":"update: A&AI ( VNF)","xml":"<update plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-id = $tmp.aai-data-vnf.vnf-id\" force=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n\t","comments":"","outputs":1,"x":1005.8833312988281,"y":275.7722473144531,"z":"dadd0ec.02a1b7","wires":[["a351e49e.b5ebc8"]]},{"id":"a351e49e.b5ebc8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1178.8833312988281,"y":277.7722473144531,"z":"dadd0ec.02a1b7","wires":[["4c376449.e30b9c"]]},{"id":"51e66bf8.6e6d1c","type":"save","name":"update: A&AI ( VM)","xml":"<update plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vserver\" \nkey=\"vserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = 'att-aic' AND\ncloud-region.cloud-region-id = $tmp.aai-data-vm.cloud-region-id\"\nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n","comments":"","outputs":1,"x":2011.8833312988281,"y":564.772216796875,"z":"dadd0ec.02a1b7","wires":[["c14c4a8e.be626"]]},{"id":"c14c4a8e.be626","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2191.883331298828,"y":561.772216796875,"z":"dadd0ec.02a1b7","wires":[["78be292c.29bea"]]},{"id":"71066a0e.98a3bc","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2042.8833312988281,"y":1151.7722473144531,"z":"dadd0ec.02a1b7","wires":[["ee6c0881.9fce5"]]},{"id":"88c7f999.f3a79","type":"save","name":"update: A&AI ( VM)","xml":"<update plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vserver\" \nkey=\"vserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = $tmp.aai-data-vm.cloud-owner AND\ncloud-region.cloud-region-id = $tmp.aai-data-vm.cloud-region-id\"\nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>","comments":"","outputs":1,"x":1858.3833312988281,"y":1155.7722473144531,"z":"dadd0ec.02a1b7","wires":[["71066a0e.98a3bc"]]},{"id":"160a822.fe9487e","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":2188.883331298828,"y":385.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"ac80a5a9.b87a88","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1818.8833312988281,"y":409.772216796875,"z":"dadd0ec.02a1b7","wires":[["b427505d.58def"]]},{"id":"bbbda2e4.18a088","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1792.8833312988281,"y":484.772216796875,"z":"dadd0ec.02a1b7","wires":[["b427505d.58def"]]},{"id":"b427505d.58def","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1996.8833312988281,"y":447.772216796875,"z":"dadd0ec.02a1b7","wires":[["160a822.fe9487e","e9834288.6b48d"]]},{"id":"9ea3c68.d6f28b8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":2031.8833312988281,"y":1011.7722473144531,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"79054415.929364","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1674.8833312988281,"y":1016.7722473144531,"z":"dadd0ec.02a1b7","wires":[["bf377ff1.8c91b8"]]},{"id":"3ca1a800.bd8a18","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1676.8833312988281,"y":1086.7722473144531,"z":"dadd0ec.02a1b7","wires":[["bf377ff1.8c91b8"]]},{"id":"bf377ff1.8c91b8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1859.8833312988281,"y":1029.7722473144531,"z":"dadd0ec.02a1b7","wires":[["9ea3c68.d6f28b8","85acf41b.0ed97"]]},{"id":"81c50c73.66e56","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":726.8833312988281,"y":103.772216796875,"z":"dadd0ec.02a1b7","wires":[["831c109c.40926"]]},{"id":"cc3bc54e.9184b8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":670.8833312988281,"y":171.772216796875,"z":"dadd0ec.02a1b7","wires":[["b5511dc5.89e028"]]},{"id":"831c109c.40926","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":888.8833312988281,"y":89.772216796875,"z":"dadd0ec.02a1b7","wires":[["dcc5affb.84c298","ea59351.e3d6148"]]},{"id":"ea59351.e3d6148","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-configuration-notification-input.service-information.service-instance-id + '.' + $error-message`\"/>","comments":"","x":1176.8833312988281,"y":113.772216796875,"z":"dadd0ec.02a1b7","wires":[]},{"id":"dcc5affb.84c298","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n\n","comments":"","outputs":1,"x":1091.8833312988281,"y":74.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"e9834288.6b48d","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name + '.' + $error-message`\"/>","comments":"","x":2247.883331298828,"y":445.772216796875,"z":"dadd0ec.02a1b7","wires":[]},{"id":"24de5b4.ca9c024","type":"for","name":"for: vnf-config-parameters-list","xml":"<for index=\"i\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\">","comments":"","outputs":1,"x":439.8833312988281,"y":437.7722473144531,"z":"dadd0ec.02a1b7","wires":[["7d05439.245a33c"]]},{"id":"d674bc1d.c068e","type":"for","name":"for: vnf-config-parameters-list","xml":"<for index=\"i\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\" >","comments":"","outputs":1,"x":441.8833312988281,"y":996.7722473144531,"z":"dadd0ec.02a1b7","wires":[["45ea0a21.ea708c"]]},{"id":"abeef1bf.9c7088","type":"for","name":"for: vnf-config-parameters-list.system-controller","xml":"<for index=\"j\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller_length`\" >","comments":"","outputs":1,"x":936.8833312988281,"y":559.7722473144531,"z":"dadd0ec.02a1b7","wires":[["96702561.b9af1"]]},{"id":"21b151fc.80e8d6","type":"for","name":"for: vnf-config-parameters-list.payload","xml":"<for index=\"j\" start=\"0\" end=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload_length`\" >","comments":"","outputs":1,"x":889.8833312988281,"y":1097.7722473144531,"z":"dadd0ec.02a1b7","wires":[["417c9ce9.cc81c4"]]},{"id":"96702561.b9af1","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1241.8833312988281,"y":559.7722473144531,"z":"dadd0ec.02a1b7","wires":[["72d66398.c78b04","7a4607ab.20c7d8"]]},{"id":"72d66398.c78b04","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n<parameter name=\"VMNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vm-name`\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.backup-information.service-instance-id`\"/>","comments":"","outputs":1,"x":1427.8833312988281,"y":439.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"8b2f85e1.b2ecf8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n<parameter name=\"VMNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n\n","comments":"","outputs":1,"x":1350.8833312988281,"y":1034.7722473144531,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"417c9ce9.cc81c4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1158.8833312988281,"y":1102.7722473144531,"z":"dadd0ec.02a1b7","wires":[["8b2f85e1.b2ecf8","6987c348.7915ac"]]},{"id":"ca324f16.621e98","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"SYSCONTRVSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n\n<parameter name=\"SYSCONTRLTENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"SYSCONTRLCLOUDREGION\" value=\"`$tmp.aai-data-vm.cloud-region-id`\"/>\n<parameter name=\"SYSCONTRLCLOUDOWNER\" value=\"`$tmp.aai-data-vm.cloud-owner`\"/>","comments":"","outputs":1,"x":2005.8833312988281,"y":519.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"fe551909.d15fc","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"PAYLDVSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n\n<parameter name=\"PAYLDTENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"PAYLDCLOUDREGION\" value=\"`$tmp.aai-data-vm.cloud-region-id`\"/>","comments":"","outputs":1,"x":1834.8833312988281,"y":1096.7722473144531,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"a5df8a6a.2b19c8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"CALLING Get fOR SERVICEINSTANCEID\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n","comments":"","outputs":1,"x":359.8833312988281,"y":149.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"d3de5a90.3ddcf8","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":669.8833312988281,"y":219.77224731445312,"z":"dadd0ec.02a1b7","wires":[["6fc6feed.ecd3e"]]},{"id":"6fc6feed.ecd3e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":817.8833312988281,"y":223.77224731445312,"z":"dadd0ec.02a1b7","wires":[["fe99cd15.356a28","6ce473c.8c06e8c"]]},{"id":"730690ac.6a2dd8","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1668.8833312988281,"y":541.7722778320312,"z":"dadd0ec.02a1b7","wires":[["b233e1f3.c73c5"]]},{"id":"7c6d32ee.aaa864","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1477.8833312988281,"y":1164.7722473144531,"z":"dadd0ec.02a1b7","wires":[["be4db60d.4ea4f"]]},{"id":"b233e1f3.c73c5","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1824.8833312988281,"y":538.7722778320312,"z":"dadd0ec.02a1b7","wires":[["ca324f16.621e98","51e66bf8.6e6d1c","82af3939.ee1638"]]},{"id":"be4db60d.4ea4f","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1646.8833312988281,"y":1157.7722473144531,"z":"dadd0ec.02a1b7","wires":[["fe551909.d15fc","88c7f999.f3a79","4929d27f.47a514"]]},{"id":"6ce473c.8c06e8c","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"VNFID\" value=\"`$tmp.aai-data-vnf.vnf-id`\"/>\n\n","comments":"","outputs":1,"x":982.8833312988281,"y":228.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"4c376449.e30b9c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1331.8833312988281,"y":279.7722473144531,"z":"dadd0ec.02a1b7","wires":[["2050dfe6.9e5678","42e9661a.76f588"]]},{"id":"2050dfe6.9e5678","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $tmp.aai-data-vnf.vnf-id + '.' + $error-message`\"/>","comments":"","x":1556.8833312988281,"y":295.7722473144531,"z":"dadd0ec.02a1b7","wires":[]},{"id":"78be292c.29bea","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2346.883331298828,"y":557.772216796875,"z":"dadd0ec.02a1b7","wires":[["8a2fd214.c42f28","5dd7cb15.eb6d04"]]},{"id":"8a2fd214.c42f28","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2604.883331298828,"y":549.772216796875,"z":"dadd0ec.02a1b7","wires":[]},{"id":"85acf41b.0ed97","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name + '.' + $error-message`\"/>","comments":"","x":2088.883331298828,"y":1063.7722473144531,"z":"dadd0ec.02a1b7","wires":[]},{"id":"ee6c0881.9fce5","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2197.883331298828,"y":1151.7722473144531,"z":"dadd0ec.02a1b7","wires":[["7645fc9f.c57cfc","43bd5dc3.8e2b9c"]]},{"id":"7645fc9f.c57cfc","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2456.883331298828,"y":1157.7722473144531,"z":"dadd0ec.02a1b7","wires":[]},{"id":"42e9661a.76f588","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$tmp.aai-data-vnf.vnf-id`\"/>\n\n","comments":"","outputs":1,"x":1480.8833312988281,"y":236.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"5dd7cb15.eb6d04","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n\n","comments":"","outputs":1,"x":2546.883331298828,"y":484.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"43bd5dc3.8e2b9c","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2397.883331298828,"y":1102.7722473144531,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"d1fff83e.f87ea8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"level\" value=\"info\" />\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"RETURNED RESPONSEMESSAGE\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n<parameter name=\"ERRORMSG\" value=\"`$error-message`\"/>\n\n","comments":"","outputs":1,"x":209.88333129882812,"y":1174.7722473144531,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"b52fc28c.1d4a4","type":"set","name":"set: Append to response-message","xml":"<set>\n\t  <parameter name=\"response-message\" value=\"`$error-message + '.' + $response-message`\"/>","comments":"","x":348.8833312988281,"y":1102.7722473144531,"z":"dadd0ec.02a1b7","wires":[]},{"id":"82af3939.ee1638","type":"get-resource","name":"get-resource: A&AI Data for VNFC Name ","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vnfc\" key=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name\" pfx=\"tmp.aai-data-vnfc\" >\n\n\n","comments":"","outputs":1,"x":1350.8833312988281,"y":750.8833312988281,"z":"dadd0ec.02a1b7","wires":[["87f6d8fb.3a4178","9a1fb492.234f88","5f9c4c3d.eaf734"]]},{"id":"87f6d8fb.3a4178","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1638.8833312988281,"y":750.8833312988281,"z":"dadd0ec.02a1b7","wires":[["a5ce84b.71763f8"]]},{"id":"9a1fb492.234f88","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1638.8833312988281,"y":794.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7dab047c.7c4afc"]]},{"id":"5f9c4c3d.eaf734","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1599.8833312988281,"y":866.8833312988281,"z":"dadd0ec.02a1b7","wires":[["dbfe79e5.0b0828"]]},{"id":"7dab047c.7c4afc","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1810.8833312988281,"y":795.8833312988281,"z":"dadd0ec.02a1b7","wires":[["fdc1b24b.056628","3ef21e81.c48d3a"]]},{"id":"fdc1b24b.056628","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":1983.8833312988281,"y":796.8833312988281,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"3ef21e81.c48d3a","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2060.883331298828,"y":848.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"98b1f0dc.508aa","type":"save","name":"update: A&AI VNFC","xml":"<update plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vnfc\" \nkey=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name and \nvserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND\ncloud-region.cloud-owner = $tmp.aai-data-vm.cloud-owner AND\ncloud-region.region-id = $tmp.aai-data-vm.cloud-region-id \"  \nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n<parameter name=\"orchestration-status\" value=\"`$tmp.aai-orch-status`\"/>\n","comments":"","outputs":1,"x":1997.8833312988281,"y":907.8833312988281,"z":"dadd0ec.02a1b7","wires":[["192a6b14.797755"]]},{"id":"192a6b14.797755","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2182.883331298828,"y":905.8833312988281,"z":"dadd0ec.02a1b7","wires":[["b5f3def.a2598a"]]},{"id":"b5f3def.a2598a","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2341.883331298828,"y":904.8833312988281,"z":"dadd0ec.02a1b7","wires":[["66d9795a.67749","d0e455fb.cb2bb"]]},{"id":"66d9795a.67749","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2507.883331298828,"y":897.8833312988281,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"d0e455fb.cb2bb","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2575.883331298828,"y":972.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"dbfe79e5.0b0828","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1766.8833312988281,"y":873.8833312988281,"z":"dadd0ec.02a1b7","wires":[["98b1f0dc.508aa"]]},{"id":"a5ce84b.71763f8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1802.8833312988281,"y":752.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7f85854e.ee1f2c"]]},{"id":"4929d27f.47a514","type":"get-resource","name":"get-resource: A&AI Data for VNFC Name ","xml":"<get-resource plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vnfc\" key=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name\" pfx=\"tmp.aai-data-vnfc\" >\n\n\n","comments":"","outputs":1,"x":1361.8833312988281,"y":1289.8833312988281,"z":"dadd0ec.02a1b7","wires":[["2b880d65.9c32d2","c37e32cd.bc4068","267fb50b.de5aca"]]},{"id":"2b880d65.9c32d2","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1684.8833312988281,"y":1233.8833312988281,"z":"dadd0ec.02a1b7","wires":[["200888dd.0ae66"]]},{"id":"200888dd.0ae66","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1853.8833312988281,"y":1234.8833312988281,"z":"dadd0ec.02a1b7","wires":[["b0b510db.4d195","2e369178.b31f1e","a081a670.f21cc8","de199a12.186958"]]},{"id":"c37e32cd.bc4068","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1350.8833312988281,"y":1704.88330078125,"z":"dadd0ec.02a1b7","wires":[["ce0143e7.ef5088"]]},{"id":"ce0143e7.ef5088","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1518.3833312988281,"y":1695.38330078125,"z":"dadd0ec.02a1b7","wires":[["25856fd3.ffb808","6209c1fb.de06b8"]]},{"id":"25856fd3.ffb808","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":1708.8833312988281,"y":1670.1334228515625,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"6209c1fb.de06b8","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":1772.8833312988281,"y":1732.6334228515625,"z":"dadd0ec.02a1b7","wires":[]},{"id":"267fb50b.de5aca","type":"failure","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1296.8833312988281,"y":1795.88330078125,"z":"dadd0ec.02a1b7","wires":[["c2b91da1.31212"]]},{"id":"c2b91da1.31212","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1457.8833312988281,"y":1792.88330078125,"z":"dadd0ec.02a1b7","wires":[["1411530d.0e5f25"]]},{"id":"1411530d.0e5f25","type":"save","name":"update: A&AI  VNFC","xml":"<update plugin=\"org.openecomp.sdnc.sli.aai.AAIService\" resource=\"vnfc\" \nkey=\"vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name and \nvserver.vserver-id = $tmp.aai-data-vm.vserver-id AND \ntenant.tenant-id = $tmp.aai-data-vm.tenant-id AND \ncloud-region.region-id = $tmp.aai-data-vm.cloud-region-id \"  \nforce=\"true\" local-only=\"false\" pfx=\"tmp.AnAI-data.vnf\" >\n<parameter name=\"prov-status\" value=\"`$tmp.aai-prov-status`\"/>\n<parameter name=\"orchestration-status\" value=\"`$tmp.aai-orch-status`\"/>","comments":"","outputs":1,"x":1676.6333312988281,"y":1789.38330078125,"z":"dadd0ec.02a1b7","wires":[["61314afe.433934"]]},{"id":"61314afe.433934","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1867.8833312988281,"y":1781.88330078125,"z":"dadd0ec.02a1b7","wires":[["c89228c6.2332"]]},{"id":"c89228c6.2332","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2039.6333312988281,"y":1784.3834228515625,"z":"dadd0ec.02a1b7","wires":[["e673bc52.4d3588","ba8f2c00.1cb49"]]},{"id":"e673bc52.4d3588","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Update Request to AnAI Failed\"/>\n<parameter name=\"VSERVERID\" value=\"`$tmp.aai-data-vm.vserver-id`\"/>\n<parameter name=\"TENANTID\" value=\"`$tmp.aai-data-vm.tenant-id`\"/>\n<parameter name=\"VNFCNAME\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2250.883331298828,"y":1780.8834533691406,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"ba8f2c00.1cb49","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Update to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + ' and ' + $tmp.aai-data-vm.vserver-id + ' and ' + $tmp.aai-data-vm.tenant-id + '.' + $error-message`\"/>","comments":"","x":2304.883331298828,"y":1841.63330078125,"z":"dadd0ec.02a1b7","wires":[]},{"id":"aa1c8b4a.65bd98","type":"save","name":"save Put VNFC","xml":"<save plugin='org.openecomp.sdnc.sli.aai.AAIService' resource='vnfc' key='vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name' force='true' pfx='tmp.vnfc-payload'>\n<parameter name='nfc-naming-code' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-function-code`'/>\n<parameter name='nfc-function' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-type`'/>\n<parameter name='prov-status' value='`$tmp.aai-prov-status`'/>\n<parameter name='orchestration-status' value='`$tmp.aai-orch-status`'/>\n<parameter name='group-notation' value='`$tmp.group-notation`'/>\n<parameter name='in-maint' value = 'false'/>\n<parameter name='is-closed-loop' value = 'false'/>\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"vserver\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\"   value=\"vserver.vserver-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vm.vserver-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\"   value=\"tenant.tenant-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value='`$tmp.aai-data-vm.tenant-id`'/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\"   value=\"cloud-region.cloud-owner\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"att-aic\"/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-key\"   value=\"cloud-region.cloud-region-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-value\" value='`$tmp.aai-data-vm.cloud-region-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].related-to\" value=\"vf-module\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-key\"   value=\"vf-module.vf-module-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-value\" value='`$tmp.vf-module-id`'/>\n\n","comments":"","outputs":1,"x":1844.8833312988281,"y":1591.772216796875,"z":"dadd0ec.02a1b7","wires":[["ef0ad117.013118"]]},{"id":"ef0ad117.013118","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2037.3833312988281,"y":1592.272216796875,"z":"dadd0ec.02a1b7","wires":[["61824226.e5de5c"]]},{"id":"61824226.e5de5c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2203.633331298828,"y":1594.772216796875,"z":"dadd0ec.02a1b7","wires":[["e39467f2.9da8e","96bb6e84.7eb65"]]},{"id":"e39467f2.9da8e","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Insert to AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2408.133331298828,"y":1566.272216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"96bb6e84.7eb65","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Insert to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2472.133331298828,"y":1631.272216796875,"z":"dadd0ec.02a1b7","wires":[]},{"id":"adb43ab1.b906a","type":"save","name":"save Put VNFC","xml":"<save plugin='org.openecomp.sdnc.sli.aai.AAIService' resource='vnfc' key='vnfc.vnfc-name = $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name' force='true' pfx='tmp.vnfc-sys-controller'>\n<parameter name='nfc-naming-code' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-function-code`'/>\n<parameter name='nfc-function' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-type`'/>\n<parameter name='prov-status' value='`$tmp.aai-prov-status`'/>\n<parameter name='orchestration-status' value='`$tmp.aai-orch-status`'/>\n<parameter name='in-maint' value = 'false'/>\n<parameter name='is-closed-loop' value = 'false'/>\n<parameter name='ipaddress-v4-oam-vip' value='`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].ipaddress-v4-oam-vip`'/>\n\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"vserver\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\"   value=\"vserver.vserver-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vm.vserver-id`'/>\n\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\"   value=\"tenant.tenant-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value='`$tmp.aai-data-vm.tenant-id`'/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\"   value=\"cloud-region.cloud-owner\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"att-aic\"/>\n\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-key\"   value=\"cloud-region.cloud-region-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[3].relationship-value\" value='`$tmp.aai-data-vm.cloud-region-id`'/>\n\n<parameter name=\"relationship-list.relationship[1].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[1].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].related-to\" value=\"vf-module\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-key\"   value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[0].relationship-value\" value='`$tmp.aai-data-vnf.vnf-id`'/>\n\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-key\"   value=\"vf-module.vf-module-id\" />\n<parameter name=\"relationship-list.relationship[2].relationship-data[1].relationship-value\" value='`$tmp.vf-module-id`'/>\n\n\n\n\n","comments":"","outputs":1,"x":2133.883331298828,"y":742.88330078125,"z":"dadd0ec.02a1b7","wires":[["d7900a9c.7da84"]]},{"id":"d7900a9c.7da84","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2304.883331298828,"y":745.88330078125,"z":"dadd0ec.02a1b7","wires":[["72b78381.72e564"]]},{"id":"72b78381.72e564","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2454.883331298828,"y":748.88330078125,"z":"dadd0ec.02a1b7","wires":[["6ec9ceda.df3c08","3e702e5c.460b52"]]},{"id":"6ec9ceda.df3c08","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Insert to AnAI Request Failed\"/>\n<parameter name=\"field3\" value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name`\"/>\n\n","comments":"","outputs":1,"x":2661.883331298828,"y":739.88330078125,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"3e702e5c.460b52","type":"set","name":"set: Append to error message","xml":"<set>\n\t  <parameter name=\"error-message\" value=\"`'Insert to A&amp;AI Failed for ' + $service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller[$j].vnfc-name + '.' + $error-message`\"/>","comments":"","x":2632.883331298828,"y":799.88330078125,"z":"dadd0ec.02a1b7","wires":[]},{"id":"5d1fa6e4.9044d","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters_length`\">","comments":"","outputs":1,"x":452.8833312988281,"y":331.8833312988281,"z":"dadd0ec.02a1b7","wires":[["6d251fe1.ce948","8116154b.78897","2678a5a8.92149a"]]},{"id":"6d251fe1.ce948","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":725.8833312988281,"y":285.8833312988281,"z":"dadd0ec.02a1b7","wires":[["23922609.736d32"]]},{"id":"8116154b.78897","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":717.8833312988281,"y":328.8833312988281,"z":"dadd0ec.02a1b7","wires":[["23922609.736d32"]]},{"id":"23922609.736d32","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":926.8833312988281,"y":346.8833312988281,"z":"dadd0ec.02a1b7","wires":[["e83f7841.59349","bcff289c.8387e"]]},{"id":"374baba4.2826c4","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].system-controller_length`\">","comments":"","outputs":1,"x":917.8833312988281,"y":440.8833312988281,"z":"dadd0ec.02a1b7","wires":[["21fe012c.7735de","d44acbe9.0fc8d","58a1a997.e4de58"]]},{"id":"21fe012c.7735de","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1202.8833312988281,"y":420.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7a704acc.29114c"]]},{"id":"d44acbe9.0fc8d","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1200.8833312988281,"y":456.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7a704acc.29114c"]]},{"id":"7a704acc.29114c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1408.8833312988281,"y":364.8833312988281,"z":"dadd0ec.02a1b7","wires":[["bac9d9bd.31db88","5bd6775e.e90f"]]},{"id":"bac9d9bd.31db88","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"System Controller VM and VNFC data not in config tree\"/>\n\n\n","comments":"","outputs":1,"x":1573.8833312988281,"y":385.8833312988281,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"61e15e5d.3c6e6","type":"switchNode","name":"switch: vnf config parameters length","xml":"<switch test=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload_length`\">","comments":"","outputs":1,"x":938.8833312988281,"y":954.8833312988281,"z":"dadd0ec.02a1b7","wires":[["d1d3cc7a.d03f38","bef5e49.0ae0a18","5aca3756.8f5d68"]]},{"id":"d1d3cc7a.d03f38","type":"other","name":"outcome: Length=0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1211.8833312988281,"y":866.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7698fee1.31c398"]]},{"id":"bef5e49.0ae0a18","type":"other","name":"outcome: NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1200.8833312988281,"y":919.8833312988281,"z":"dadd0ec.02a1b7","wires":[["7698fee1.31c398"]]},{"id":"7698fee1.31c398","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1395.8833312988281,"y":890.8833312988281,"z":"dadd0ec.02a1b7","wires":[["4c33b874.1472a8","50b953b8.7fd2b4"]]},{"id":"4c33b874.1472a8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Payload VM and VNFC data not in config tree\"/>\n\n\n","comments":"","outputs":1,"x":1575.8833312988281,"y":963.8833312988281,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"e83f7841.59349","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"RETURNED RESPONSEMESSAGE\"/>\n<parameter name=\"RESPONSEMSG\" value=\"`$response-message`\"/>\n<parameter name=\"ERRORMSG\" value=\"`$error-message`\"/>\n<parameter name=\"field3\" value=\"VM and VNFC data not in config tree.Stop the flow\"/>\n\n","comments":"","outputs":1,"x":1110.8833312988281,"y":378.8833312988281,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"b5511dc5.89e028","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":836.8833312988281,"y":173.88333129882812,"z":"dadd0ec.02a1b7","wires":[["ad6db0f2.c3e3d8","ee40fdd3.06b65"]]},{"id":"ad6db0f2.c3e3d8","type":"record","name":"record","xml":"<record plugin=\"org.openecomp.sdnc.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"Get Request to AnAI Failed\"/>\n<parameter name=\"field3\" value=\"`$service-configuration-notification-input.service-information.service-instance-id`\"/>\n<parameter name=\"ErrorMessage\" value=\"`$tmp.aai-data-vnf.error-message`\"/>\n<parameter name=\"HTTP Code\" value=\"`$tmp.aai-data-vnf.error.http.response-code`\"/>","comments":"","outputs":1,"x":1009.8833312988281,"y":151.88333129882812,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"ee40fdd3.06b65","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'Get from A&amp;AI Failed for ' + $service-configuration-notification-input.service-information.service-instance-id + '.' + $tmp.aai-data-vnf.error-message + '.HTTP Code:' + $tmp.aai-data-vnf.error.http.response-code + '.' + $error-message `\"/>\n","comments":"","x":1067.8833312988281,"y":189.88333129882812,"z":"dadd0ec.02a1b7","wires":[]},{"id":"bcff289c.8387e","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1168.8833312988281,"y":333.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"5bd6775e.e90f","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'System Controller VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1641.8833312988281,"y":343.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"50b953b8.7fd2b4","type":"set","name":"set: Append to error message","xml":"<set>\n<parameter name=\"error-message\" value=\"`'Payload VM and VNFC Data not found in config tree.' + $error-message `\"/>\n","comments":"","x":1643.8833312988281,"y":915.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"2678a5a8.92149a","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":710.8833312988281,"y":374.8833312988281,"z":"dadd0ec.02a1b7","wires":[["b103ce65.33fce8"]]},{"id":"b103ce65.33fce8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":189.88333129882812,"y":437.8833312988281,"z":"dadd0ec.02a1b7","wires":[["24de5b4.ca9c024","d674bc1d.c068e"]]},{"id":"58a1a997.e4de58","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1200.8833312988281,"y":499.8833312988281,"z":"dadd0ec.02a1b7","wires":[["85cc2474.418408"]]},{"id":"85cc2474.418408","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":662.8833312988281,"y":559.8833312988281,"z":"dadd0ec.02a1b7","wires":[["abeef1bf.9c7088"]]},{"id":"5aca3756.8f5d68","type":"other","name":"outcome: Other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1201.8833312988281,"y":971.8833312988281,"z":"dadd0ec.02a1b7","wires":[["c656724.3e1799"]]},{"id":"c656724.3e1799","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1105.8833312988281,"y":1018.8833312988281,"z":"dadd0ec.02a1b7","wires":[["21b151fc.80e8d6"]]},{"id":"2e369178.b31f1e","type":"switchNode","name":"Check Odd or Even VM Name","xml":"<switch test=\"`((( $tmp.vm_last_number / 2 ) * 2 ) == $tmp.vm_last_number )`\">\n","comments":"","outputs":1,"x":2156.1332092285156,"y":1306.3833312988281,"z":"dadd0ec.02a1b7","wires":[["5e4c34d5.73ae44","252740d6.27f8d"]]},{"id":"b0b510db.4d195","type":"set","name":"Set VM Name & Mated Pair","xml":"<set>\n<parameter name ='tmp.vm-name' value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name`\"/>\n<parameter name ='tmp.vm-name-length' value=\"`length($service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].vm-name)`\"/>\n<parameter name='tmp.mated-pair-number' value=\"`$service-data.vnf-config-parameters-list.vnf-config-parameters[$i].payload[$j].mated-pair-number`\"/>\n\n\n","comments":"","x":2141.133087158203,"y":1202.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"230a3fb3.b2f42","type":"set","name":"Set Even Group Notation","xml":"<set>\n<parameter name='tmp.group-notation' value=\"`$tmp.odd-group-notation`\"/>\n","comments":"","x":2625.383331298828,"y":1329.8833312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"5e4c34d5.73ae44","type":"outcomeFalse","name":"Odd Pair","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2418.133331298828,"y":1239.8833312988281,"z":"dadd0ec.02a1b7","wires":[["4fd78629.fd2a"]]},{"id":"252740d6.27f8d","type":"other","name":"Even Pair","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2421.883331298828,"y":1329.8833312988281,"z":"dadd0ec.02a1b7","wires":[["230a3fb3.b2f42"]]},{"id":"4fd78629.fd2a","type":"set","name":"Set Odd Group Notation","xml":"<set>\n<parameter name='tmp.odd-group-notation' value=\"`$tmp.mated-pair-number`\"/>\n<parameter name='tmp.group-notation' value=\"`$tmp.mated-pair-number`\"/>\n","comments":"","x":2611.883331298828,"y":1238.6333312988281,"z":"dadd0ec.02a1b7","wires":[]},{"id":"a081a670.f21cc8","type":"set","name":"Get VM Name last digit","xml":"<set>\n<parameter name='tmp.vm_last_number' value='`substr($tmp.vm-name, $tmp.vm-name-length - 1, $tmp.vm-name-length)`' />\n","comments":"","x":2125.5162658691406,"y":1255.5166320800781,"z":"dadd0ec.02a1b7","wires":[]},{"id":"7f85854e.ee1f2c","type":"call","name":"call: GetVfModuleInfo","xml":"<call module=\"APPC\" rpc=\"GetVfModuleInfo\" mode=\"sync\">","comments":"","outputs":1,"x":1719.8833312988281,"y":656.772216796875,"z":"dadd0ec.02a1b7","wires":[["b49a6650.45cd5"]]},{"id":"b49a6650.45cd5","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1892.8833312988281,"y":657.772216796875,"z":"dadd0ec.02a1b7","wires":[["503b2662.b77ba8"]]},{"id":"503b2662.b77ba8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2046.8833312988281,"y":658.772216796875,"z":"dadd0ec.02a1b7","wires":[["f5d65eb9.5a7a98"]]},{"id":"f5d65eb9.5a7a98","type":"switchNode","name":"switch: tmp.vf-module-id","xml":"<switch test=\"`$tmp.vf-module-id`\">","comments":"","outputs":1,"x":2259.883331298828,"y":647.772216796875,"z":"dadd0ec.02a1b7","wires":[["737ffceb.a4ea1c","ec18370e.90a828"]]},{"id":"737ffceb.a4ea1c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2461.883331298828,"y":648.772216796875,"z":"dadd0ec.02a1b7","wires":[["19f1001e.534b4"]]},{"id":"19f1001e.534b4","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2614.883331298828,"y":647.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"ec18370e.90a828","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":2324.883331298828,"y":689.772216796875,"z":"dadd0ec.02a1b7","wires":[["adb43ab1.b906a"]]},{"id":"de199a12.186958","type":"call","name":"call: GetVfModuleInfo","xml":"<call module=\"APPC\" rpc=\"GetVfModuleInfo\" mode=\"sync\">","comments":"","outputs":1,"x":2059.883331298828,"y":1397.772216796875,"z":"dadd0ec.02a1b7","wires":[["64552bae.841f74","47c81582.0e394c"]]},{"id":"64552bae.841f74","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2261.883331298828,"y":1392.772216796875,"z":"dadd0ec.02a1b7","wires":[["70e5eccb.c4034c"]]},{"id":"70e5eccb.c4034c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2419.883331298828,"y":1392.772216796875,"z":"dadd0ec.02a1b7","wires":[["33a190ec.6c9318"]]},{"id":"33a190ec.6c9318","type":"switchNode","name":"switch: tmp.vf-module-id","xml":"<switch test=\"`$tmp.vf-module-id`\">","comments":"","outputs":1,"x":2636.883331298828,"y":1395.772216796875,"z":"dadd0ec.02a1b7","wires":[["7ed8ab5f.887e7c"]]},{"id":"389d5df6.4e0f92","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2613.883331298828,"y":1455.772216796875,"z":"dadd0ec.02a1b7","wires":[[]]},{"id":"7ed8ab5f.887e7c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2446.883331298828,"y":1453.772216796875,"z":"dadd0ec.02a1b7","wires":[["389d5df6.4e0f92"]]},{"id":"47c81582.0e394c","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":2267.883331298828,"y":1484.772216796875,"z":"dadd0ec.02a1b7","wires":[["aa1c8b4a.65bd98"]]}]
